# 铁路学习平台 - 环境变量配置示例
# 复制此文件为.env并修改相应配置

# =============================================================================
# 应用基础配置
# =============================================================================
NODE_ENV=production
APP_NAME=铁路学习平台
APP_VERSION=1.0.0

# =============================================================================
# 数据库配置
# =============================================================================
MYSQL_ROOT_PASSWORD=your-super-secure-root-password
MYSQL_DATABASE=learning_platform
MYSQL_USER=app_user
MYSQL_PASSWORD=your-secure-db-password

# 数据库连接池配置
DB_CONNECTION_LIMIT=20
DB_QUEUE_LIMIT=0

# =============================================================================
# Redis缓存配置
# =============================================================================
REDIS_PASSWORD=your-secure-redis-password
REDIS_DB=0

# =============================================================================
# JWT认证配置
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters-long
JWT_EXPIRES_IN=24h

# =============================================================================
# 邮件服务配置
# =============================================================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=alerts@your-domain.com
SMTP_PASS=your-email-password
SMTP_FROM=铁路学习平台 <system@your-domain.com>

# =============================================================================
# 告警通知配置
# =============================================================================
# Webhook URL（支持钉钉、企业微信等）
ALERT_WEBHOOK_URL=https://oapi.dingtalk.com/robot/send?access_token=your_token

# 告警阈值配置
ALERT_CPU_THRESHOLD=80
ALERT_MEMORY_THRESHOLD=85
ALERT_DISK_THRESHOLD=90
ALERT_RESPONSE_TIME_THRESHOLD=2000
ALERT_ERROR_RATE_THRESHOLD=5

# =============================================================================
# 阿里云OSS配置（可选）
# =============================================================================
OSS_REGION=oss-cn-hangzhou
OSS_ACCESS_KEY_ID=your-oss-access-key-id
OSS_ACCESS_KEY_SECRET=your-oss-access-key-secret
OSS_BUCKET=your-bucket-name
OSS_ENDPOINT=https://oss-cn-hangzhou.aliyuncs.com

# =============================================================================
# SSL证书配置（生产环境）
# =============================================================================
SSL_CERT_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem

# =============================================================================
# 日志配置
# =============================================================================
LOG_LEVEL=info
LOG_FILE_MAX_SIZE=10M
LOG_FILE_MAX_FILES=7

# =============================================================================
# 性能配置
# =============================================================================
# 上传文件大小限制
MAX_FILE_SIZE=50MB
MAX_FILES_COUNT=10

# 请求频率限制
RATE_LIMIT_WINDOW_MS=900000  # 15分钟
RATE_LIMIT_MAX=1000          # 每15分钟最多1000次请求

# =============================================================================
# 监控配置
# =============================================================================
MONITORING_INTERVAL=60000    # 监控数据收集间隔（毫秒）
MONITORING_ALERT_INTERVAL=120000  # 告警检查间隔（毫秒）
MONITORING_DATA_RETENTION=604800  # 监控数据保留时间（秒，7天）

# =============================================================================
# 开发环境配置（仅开发时使用）
# =============================================================================
# 是否启用调试模式
DEBUG=false

# 是否启用热重载
HOT_RELOAD=false

# API文档访问密码（生产环境建议设置）
API_DOCS_PASSWORD=your-api-docs-password

# =============================================================================
# 备份配置（可选）
# =============================================================================
# 数据库备份间隔（cron表达式）
BACKUP_SCHEDULE=0 2 * * *   # 每天凌晨2点备份

# 备份保留天数
BACKUP_RETENTION_DAYS=30

# 备份存储路径
BACKUP_PATH=/data/backups
