# 摄像头故障排除指南

## 问题描述
在学习中心阅读文章时，系统需要调用摄像头进行学习监控，但可能出现"未找到摄像头设备"等错误。

## 常见问题及解决方案

### 1. 摄像头权限被拒绝
**错误信息：** "摄像头权限被拒绝"

**解决方案：**
1. 点击浏览器地址栏左侧的摄像头图标
2. 选择"允许"摄像头访问
3. 刷新页面重试

### 2. 未找到摄像头设备
**错误信息：** "未找到摄像头设备"

**解决方案：**
1. 检查摄像头是否正确连接到电脑
2. 确保摄像头未被其他应用占用（如微信、QQ、Zoom等）
3. 尝试重新插拔摄像头
4. 检查系统摄像头驱动是否正常
5. 刷新页面重试

### 3. 摄像头被其他应用占用
**错误信息：** "摄像头被其他应用占用"

**解决方案：**
1. 关闭其他使用摄像头的应用
2. 重启浏览器
3. 检查系统摄像头设置

### 4. 浏览器不支持
**错误信息：** "浏览器不支持摄像头功能"

**解决方案：**
1. 使用Chrome、Firefox、Safari等现代浏览器
2. 确保浏览器版本较新
3. 检查浏览器设置中的摄像头权限

### 5. 非安全环境限制
**问题：** 在非HTTPS环境下摄像头功能受限

**解决方案：**
1. 使用HTTPS访问网站
2. 在本地开发环境下（localhost）使用

## 使用诊断工具

系统提供了摄像头诊断工具，可以帮助您快速定位问题：

1. 在文章阅读页面，点击右上角的"📷 摄像头诊断"按钮
2. 诊断工具会自动检查：
   - 浏览器是否支持摄像头功能
   - 是否在安全环境下运行
   - 检测到的摄像头设备数量
   - 摄像头权限状态
3. 根据诊断结果，系统会提供相应的解决方案

## 系统要求

### 浏览器要求
- Chrome 53+ 
- Firefox 36+
- Safari 11+
- Edge 79+

### 系统要求
- Windows 10/11
- macOS 10.14+
- Linux (支持WebRTC的发行版)

### 硬件要求
- 内置或外置摄像头
- 摄像头驱动正常安装

## 故障排除步骤

### 第一步：检查硬件
1. 确认摄像头已正确连接
2. 检查摄像头指示灯是否亮起
3. 在其他应用中测试摄像头是否工作

### 第二步：检查浏览器设置
1. 打开浏览器设置
2. 找到隐私和安全设置
3. 检查摄像头权限设置
4. 确保网站有摄像头访问权限

### 第三步：检查系统设置
1. 打开系统设置
2. 找到隐私设置
3. 检查摄像头权限
4. 确保应用有摄像头访问权限

### 第四步：重启和重试
1. 关闭所有使用摄像头的应用
2. 重启浏览器
3. 刷新页面重试

## 联系支持

如果按照以上步骤仍然无法解决问题，请联系技术支持：

1. 使用诊断工具获取详细错误信息
2. 记录错误信息和解决步骤
3. 联系系统管理员或技术支持

## 常见错误代码

| 错误代码 | 含义 | 解决方案 |
|---------|------|----------|
| NotAllowedError | 权限被拒绝 | 允许摄像头访问权限 |
| NotFoundError | 未找到设备 | 检查摄像头连接 |
| NotReadableError | 设备被占用 | 关闭其他应用 |
| NotSupportedError | 浏览器不支持 | 使用现代浏览器 |
| SecurityError | 安全限制 | 使用HTTPS环境 |

## 预防措施

1. **定期检查摄像头**：确保摄像头硬件和驱动正常工作
2. **更新浏览器**：使用最新版本的浏览器
3. **清理权限**：定期清理浏览器权限设置
4. **备份设置**：保存重要的浏览器设置

## 技术说明

### 摄像头API
系统使用WebRTC的getUserMedia API来访问摄像头：
```javascript
navigator.mediaDevices.getUserMedia({
  video: {
    width: { ideal: 1280, min: 640 },
    height: { ideal: 720, min: 480 },
    facingMode: 'user'
  },
  audio: false
})
```

### 安全限制
- 必须在HTTPS环境下使用（本地开发除外）
- 需要用户明确授权
- 某些浏览器在隐私模式下可能限制摄像头访问

### 兼容性
- 支持所有现代浏览器的摄像头API
- 自动检测设备能力
- 降级处理不支持的设备 