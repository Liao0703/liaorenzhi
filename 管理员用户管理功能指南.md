# 管理员用户管理功能使用指南

## 功能概述
用户管理功能已成功集成到管理员界面中，提供完整的用户账号管理能力。

## 访问方式

### 1. 使用管理员账号登录
```
用户名: admin
密码: admin123
```

### 2. 进入管理员面板
登录成功后，系统会自动跳转到管理员面板。

### 3. 访问用户管理
在左侧导航栏中点击 **"🔑 用户管理"** 菜单项。

## 功能特性

### 用户列表显示
- **工号**: 员工唯一标识
- **用户名**: 登录账号
- **姓名**: 用户真实姓名
- **角色**: 显示用户权限级别
  - 🔴 管理员 (admin)
  - 🟡 维护人员 (maintenance)
  - 🔵 普通用户 (user)
- **部门/班组/工种**: 组织信息
- **操作按钮**: 编辑、重置密码、删除

### 主要功能

#### 1. 添加用户
- 点击右上角 **"➕ 添加用户"** 按钮
- 填写用户信息：
  - 用户名（必填）
  - 密码（必填）
  - 姓名（必填）
  - 角色权限（重要）
  - 工号
  - 部门/班组/工种
  - 联系方式
- 点击保存创建新用户

#### 2. 编辑用户
- 点击用户行的 **"编辑"** 按钮
- 修改用户信息（用户名不可修改）
- 可以更改用户角色权限
- 密码字段留空表示不修改密码

#### 3. 重置密码
- 点击 **"重置密码"** 按钮
- 输入新密码（默认为123456）
- 确认后密码立即生效

#### 4. 删除用户
- 点击 **"删除"** 按钮
- 确认删除操作
- 用户数据将被永久删除

## 权限说明

### 角色权限对比

| 功能 | 管理员 | 维护人员 | 普通用户 |
|------|--------|----------|----------|
| 查看用户列表 | ✅ | ✅ | ❌ |
| 添加新用户 | ✅ | ❌ | ❌ |
| 编辑用户信息 | ✅ | ❌ | ❌ |
| 修改用户角色 | ✅ | ❌ | ❌ |
| 重置密码 | ✅ | ❌ | ❌ |
| 删除用户 | ✅ | ❌ | ❌ |

### 角色说明
- **管理员 (admin)**: 拥有所有权限，可以管理所有用户
- **维护人员 (maintenance)**: 只能查看用户列表，无法进行修改
- **普通用户 (user)**: 无法访问用户管理功能

## 注意事项

### 安全建议
1. **谨慎分配管理员权限**
   - 只给必要的人员管理员权限
   - 定期审核管理员账号

2. **密码管理**
   - 重置密码后立即通知用户修改
   - 建议使用强密码

3. **操作审慎**
   - 删除用户前确认无误
   - 修改角色权限要考虑影响

### 常见问题

#### Q: 为什么看不到用户管理菜单？
A: 确保使用管理员账号登录，只有管理员才能看到此功能。

#### Q: 如何批量添加用户？
A: 目前需要逐个添加，后续可能增加批量导入功能。

#### Q: 删除用户后能恢复吗？
A: 不能，删除操作不可逆，请谨慎操作。

#### Q: 如何修改自己的密码？
A: 可以让其他管理员帮助重置，或在个人设置中修改。

## 技术实现

### 前端组件
- 位置: `src/components/UserManagement.tsx`
- 集成到: `src/AdminPanelEnhanced.tsx`

### API接口
- GET `/api/users` - 获取用户列表
- POST `/api/users` - 创建新用户
- PUT `/api/users/:id` - 更新用户信息
- DELETE `/api/users/:id` - 删除用户

### 数据库表
- 表名: `users`
- 主要字段: id, username, password, name, role, employee_id, department, team, job_type

## 更新日志

### 2024-01-16
- ✅ 集成用户管理到管理员面板
- ✅ 添加角色权限管理
- ✅ 添加重置密码功能
- ✅ 添加删除用户功能
- ✅ 优化用户界面显示
- ✅ 增加角色标签显示

## 后续计划
- [ ] 添加用户搜索过滤功能
- [ ] 批量导入导出用户
- [ ] 用户操作日志记录
- [ ] 更详细的权限控制
- [ ] 用户头像上传功能

