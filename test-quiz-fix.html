<!DOCTYPE html>
<html>
<head>
    <title>é¢˜ç›®åŠŸèƒ½ä¿®å¤æµ‹è¯•</title>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: #fff; padding: 20px; border-radius: 8px; }
        .test-section { border: 1px solid #ddd; margin: 10px 0; padding: 15px; border-radius: 4px; }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
        .warning { color: orange; font-weight: bold; }
        .quiz-section { 
            border: 2px solid #67c23a; 
            border-radius: 8px; 
            padding: 15px;
            margin: 15px 0;
            background: rgba(103, 194, 58, 0.05);
        }
        .question-item {
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 12px;
            background: #f9f9f9;
        }
        .add-quiz-btn {
            padding: 12px 20px;
            background: linear-gradient(90deg, #67c23a 60%, #5daf34 100%);
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            width: 100%;
            box-shadow: 0 4px 12px rgba(103, 194, 58, 0.3);
        }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .form-group textarea { min-height: 80px; resize: vertical; }
        .btn-group { display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px; }
        .btn { padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; }
        .btn-primary { background: #409eff; color: #fff; }
        .btn-secondary { background: #6c757d; color: #fff; }
        .btn-success { background: #67c23a; color: #fff; }
        .btn-danger { background: #f56c6c; color: #fff; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª é¢˜ç›®åŠŸèƒ½ä¿®å¤æµ‹è¯•</h1>
        
        <div class="test-section">
            <h2>æµ‹è¯•è¯´æ˜</h2>
            <p>è¿™ä¸ªæµ‹è¯•é¡µé¢æ¨¡æ‹Ÿäº†AdminPanelä¸­çš„é¢˜ç›®åŠŸèƒ½ï¼Œç”¨äºéªŒè¯ä¿®å¤æ˜¯å¦æœ‰æ•ˆã€‚</p>
            <ul>
                <li>âœ… æµ‹è¯•é¢˜ç›®æ·»åŠ åŠŸèƒ½</li>
                <li>âœ… æµ‹è¯•é¢˜ç›®ç¼–è¾‘åŠŸèƒ½</li>
                <li>âœ… æµ‹è¯•é¢˜ç›®åˆ é™¤åŠŸèƒ½</li>
                <li>âœ… æµ‹è¯•æ­£ç¡®ç­”æ¡ˆè®¾ç½®</li>
                <li>âœ… æµ‹è¯•çŠ¶æ€ç®¡ç†</li>
            </ul>
        </div>
        
        <div class="test-section">
            <h2>æ–‡ç« ç¼–è¾‘è¡¨å•</h2>
            <form id="articleForm">
                <div class="form-group">
                    <label>æ ‡é¢˜ï¼š</label>
                    <input type="text" id="title" value="" placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜" />
                </div>
                
                <div class="form-group">
                    <label>åˆ†ç±»ï¼š</label>
                    <select id="category">
                        <option value="å®‰å…¨è§„ç¨‹">å®‰å…¨è§„ç¨‹</option>
                        <option value="è®¾å¤‡ç»´æŠ¤">è®¾å¤‡ç»´æŠ¤</option>
                        <option value="åº”æ€¥å¤„ç†">åº”æ€¥å¤„ç†</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>è¦æ±‚é˜…è¯»æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰ï¼š</label>
                    <input type="number" id="readingTime" value="30" min="1" max="120" />
                </div>
                
                <div class="form-group">
                    <label>å†…å®¹ï¼š</label>
                    <textarea id="content" placeholder="è¯·è¾“å…¥æ–‡ç« å†…å®¹"></textarea>
                </div>
                
                <!-- é¢˜ç›®å½•å…¥éƒ¨åˆ† -->
                <div class="quiz-section">
                    <h4 style="margin: '0 0 15px 0', fontSize: '16px', color: '#67c23a'">ğŸ“ è€ƒè¯•é¢˜ç›®</h4>
                    <p style="fontSize: '12px', opacity: 0.8, marginBottom: '15px'">
                        æ·»åŠ è€ƒè¯•é¢˜ç›®ï¼Œç”¨æˆ·é˜…è¯»å®Œæˆåå°†éšæœºæŠ½å–5é“é¢˜è¿›è¡Œä½œç­”
                    </p>
                    
                    <div id="questions-container">
                        <!-- é¢˜ç›®å°†åœ¨è¿™é‡ŒåŠ¨æ€æ·»åŠ  -->
                    </div>
                    
                    <div style="fontSize: '12px', opacity: 0.8, marginBottom: '15px', textAlign: 'center', padding: '8px', background: 'rgba(0,0,0,0.05)', borderRadius: '4px'">
                        å½“å‰é¢˜ç›®æ•°é‡: <span id="question-count">0</span> é“
                    </div>
                    
                    <button type="button" class="add-quiz-btn" onclick="addQuestion()">
                        â• æ·»åŠ é¢˜ç›®
                    </button>
                </div>
                
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary" onclick="resetForm()">é‡ç½®</button>
                    <button type="submit" class="btn btn-primary">ä¿å­˜æ–‡ç« </button>
                </div>
            </form>
        </div>
        
        <div class="test-section">
            <h2>æµ‹è¯•ç»“æœ</h2>
            <div id="test-results">
                <p>ç‚¹å‡»"æ·»åŠ é¢˜ç›®"æŒ‰é’®å¼€å§‹æµ‹è¯•...</p>
            </div>
        </div>
        
        <div class="test-section">
            <h2>æ•°æ®å¯¼å‡º</h2>
            <pre id="data-export" style="background: #f8f8f8; padding: 10px; border-radius: 4px; overflow-x: auto;"></pre>
        </div>
    </div>
    
    <script>
        let editArticle = {
            id: '',
            title: '',
            category: 'å®‰å…¨è§„ç¨‹',
            content: '',
            requiredReadingTime: 30,
            questions: []
        };
        
        let testResults = [];
        
        function addTestResult(message, type = 'info') {
            testResults.push({ message, type, time: new Date().toLocaleTimeString() });
            updateTestResults();
        }
        
        function updateTestResults() {
            const container = document.getElementById('test-results');
            container.innerHTML = testResults.map(result => 
                `<p class="${result.type}">[${result.time}] ${result.message}</p>`
            ).join('');
        }
        
        function updateDataExport() {
            document.getElementById('data-export').textContent = JSON.stringify(editArticle, null, 2);
        }
        
        function updateQuestionCount() {
            document.getElementById('question-count').textContent = editArticle.questions.length;
        }
        
        function addQuestion() {
            const newQuestion = {
                id: Date.now(),
                question: '',
                options: ['', '', '', ''],
                correctAnswer: 0
            };
            
            editArticle.questions.push(newQuestion);
            renderQuestions();
            updateQuestionCount();
            updateDataExport();
            addTestResult('âœ… æ·»åŠ é¢˜ç›®æˆåŠŸ', 'success');
        }
        
        function deleteQuestion(index) {
            editArticle.questions.splice(index, 1);
            renderQuestions();
            updateQuestionCount();
            updateDataExport();
            addTestResult(`âœ… åˆ é™¤é¢˜ç›® ${index + 1} æˆåŠŸ`, 'success');
        }
        
        function updateQuestion(index, field, value) {
            editArticle.questions[index][field] = value;
            updateDataExport();
            addTestResult(`âœ… æ›´æ–°é¢˜ç›® ${index + 1} çš„ ${field}`, 'success');
        }
        
        function updateOption(questionIndex, optionIndex, value) {
            editArticle.questions[questionIndex].options[optionIndex] = value;
            updateDataExport();
            addTestResult(`âœ… æ›´æ–°é¢˜ç›® ${questionIndex + 1} çš„é€‰é¡¹ ${optionIndex + 1}`, 'success');
        }
        
        function setCorrectAnswer(questionIndex, optionIndex) {
            editArticle.questions[questionIndex].correctAnswer = optionIndex;
            renderQuestions();
            updateDataExport();
            addTestResult(`âœ… è®¾ç½®é¢˜ç›® ${questionIndex + 1} çš„æ­£ç¡®ç­”æ¡ˆä¸ºé€‰é¡¹ ${optionIndex + 1}`, 'success');
        }
        
        function renderQuestions() {
            const container = document.getElementById('questions-container');
            container.innerHTML = '';
            
            editArticle.questions.forEach((question, questionIndex) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-item';
                questionDiv.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <span style="font-size: 14px; font-weight: bold;">é¢˜ç›® ${questionIndex + 1}</span>
                        <button onclick="deleteQuestion(${questionIndex})" class="btn btn-danger" style="font-size: 12px;">
                            åˆ é™¤
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label>é¢˜ç›®å†…å®¹ï¼š</label>
                        <textarea
                            value="${question.question}"
                            onchange="updateQuestion(${questionIndex}, 'question', this.value)"
                            placeholder="è¯·è¾“å…¥é¢˜ç›®å†…å®¹..."
                        ></textarea>
                    </div>
                    
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px; opacity: 0.8;">é€‰é¡¹ï¼š</label>
                        ${question.options.map((option, optionIndex) => `
                            <div style="display: flex; align-items: center; margin-top: 6px;">
                                <span style="
                                    width: 20px; 
                                    height: 20px; 
                                    border-radius: 50%; 
                                    background: ${question.correctAnswer === optionIndex ? '#67c23a' : 'rgba(0,0,0,0.2)'};
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    font-size: 10px;
                                    margin-right: 8px;
                                    cursor: pointer;
                                    color: #fff;
                                " onclick="setCorrectAnswer(${questionIndex}, ${optionIndex})">
                                    ${question.correctAnswer === optionIndex ? 'âœ“' : String.fromCharCode(65 + optionIndex)}
                                </span>
                                <input
                                    type="text"
                                    value="${option}"
                                    onchange="updateOption(${questionIndex}, ${optionIndex}, this.value)"
                                    placeholder="é€‰é¡¹ ${String.fromCharCode(65 + optionIndex)}"
                                    style="flex: 1; padding: 6px 8px; border-radius: 4px; border: 1px solid #ddd;"
                                />
                            </div>
                        `).join('')}
                    </div>
                `;
                container.appendChild(questionDiv);
            });
        }
        
        function resetForm() {
            editArticle = {
                id: '',
                title: '',
                category: 'å®‰å…¨è§„ç¨‹',
                content: '',
                requiredReadingTime: 30,
                questions: []
            };
            
            document.getElementById('title').value = '';
            document.getElementById('category').value = 'å®‰å…¨è§„ç¨‹';
            document.getElementById('readingTime').value = '30';
            document.getElementById('content').value = '';
            
            renderQuestions();
            updateQuestionCount();
            updateDataExport();
            testResults = [];
            updateTestResults();
            addTestResult('ğŸ”„ è¡¨å•å·²é‡ç½®', 'warning');
        }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateQuestionCount();
            updateDataExport();
            addTestResult('ğŸš€ æµ‹è¯•é¡µé¢å·²åŠ è½½', 'success');
        });
        
        // è¡¨å•æäº¤
        document.getElementById('articleForm').addEventListener('submit', function(e) {
            e.preventDefault();
            addTestResult('ğŸ’¾ æ–‡ç« ä¿å­˜æˆåŠŸï¼', 'success');
            addTestResult(`ğŸ“Š æ–‡ç« ä¿¡æ¯: æ ‡é¢˜="${editArticle.title}", é¢˜ç›®æ•°é‡=${editArticle.questions.length}`, 'info');
        });
    </script>
</body>
</html> 